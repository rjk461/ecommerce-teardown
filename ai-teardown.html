<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Teardown Report - $2.99 Ecommerce Conversion Review (Mobile + Desktop)</title>
    <meta name="description" content="Get a conversion-focused website teardown for any page. Mobile + desktop screenshots, friction points, and prioritized fixes â€” delivered as a PDF to your inbox.">

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon.svg">
    <link rel="stylesheet" href="/site.css">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Website Teardown Report - $2.99 Ecommerce Conversion Review">
    <meta property="og:description" content="Mobile + desktop screenshots, friction points, and prioritized conversion optimisation fixes â€” delivered as a PDF to your inbox.">
    <meta property="og:image" content="https://ecommerceteardown.com/images/og-image.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Website Teardown Report - $2.99 Ecommerce Conversion Review">
    <meta name="twitter:description" content="Mobile + desktop screenshots, friction points, and prioritized conversion optimisation fixes â€” delivered as a PDF to your inbox.">
    <meta name="twitter:image" content="https://ecommerceteardown.com/images/og-image.png">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QS74BWRKTY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-QS74BWRKTY');
    </script>

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--dark-grey);
            font-weight: 400;
            overflow-x: hidden;
            width: 100%;
        }

        .btn {
            padding: 18px 40px;
            font-size: 18px;
            font-weight: 700;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: transform 0.2s, box-shadow 0.2s, opacity 0.2s;
            letter-spacing: 0.3px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .btn:active { transform: translateY(0); }

        .btn-primary {
            background: white;
            color: var(--mad-green);
            box-shadow: 0 8px 20px rgba(0,0,0,0.18);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.12);
            color: white;
            border: 2px solid rgba(255,255,255,0.35);
        }

        .hero {
            background: var(--mad-green);
            padding: 0 0 20px 0;
        }

        .hero-grid {
            display: grid;
            grid-template-columns: 1.1fr 0.9fr;
            gap: 40px;
            align-items: start;
        }


        h1 {
            margin-top: 0;
            color: white;
            font-size: 56px;
            font-weight: 900;
            line-height: 1.1;
            text-transform: uppercase;
            text-shadow: 3px 3px 0 rgba(0,0,0,0.2);
        }

        .subhead {
            margin-top: 25px;
            color: rgba(255,255,255,0.92);
            font-size: 20px;
            line-height: 1.6;
            max-width: 52ch;
            font-weight: 400;
        }

        .hero-points {
            margin-top: 18px;
            display: grid;
            gap: 10px;
            color: rgba(255,255,255,0.92);
        }

        .hero-point {
            display: flex;
            gap: 10px;
            align-items: flex-start;
            font-weight: 500;
        }

        .check {
            width: 22px;
            height: 22px;
            border-radius: 6px;
            background: rgba(255,255,255,0.18);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
            margin-top: 2px;
            font-weight: 900;
        }

        .card {
            background: white;
            border: 1px solid rgba(0,0,0,0.10);
            border-radius: 16px;
            box-shadow: 0 18px 40px rgba(0,0,0,0.10);
            overflow: hidden;
        }

        .price {
            font-size: 42px;
            font-weight: 1000;
            letter-spacing: -0.6px;
        }

        .price small {
            font-size: 14px;
            font-weight: 800;
            color: var(--medium-grey);
        }

        .micro {
            margin-top: 8px;
            color: var(--medium-grey);
            font-size: 14px;
            line-height: 1.5;
        }

        .card-body {
            padding: 18px;
        }

        .form-group { margin-bottom: 25px; }
        label {
            display: block;
            font-weight: 600;
            font-size: 14px;
            color: var(--dark-grey);
            margin-bottom: 8px;
            letter-spacing: 0.1px;
        }

        input, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s;
            font-family: inherit;
            font-weight: 400;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: var(--mad-green);
        }

        textarea { min-height: 100px; resize: vertical; }

        .form-actions {
            display: grid;
            gap: 10px;
            margin-top: 16px;
        }

        .submit-btn {
            width: 100%;
            padding: 18px;
            background: var(--mad-red);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 800;
            cursor: pointer;
            text-transform: uppercase;
            transition: transform 0.2s, box-shadow 0.2s;
            letter-spacing: 0.5px;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(200, 16, 46, 0.3);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .fineprint {
            color: var(--medium-grey);
            font-size: 12px;
            line-height: 1.6;
        }

        .fineprint a { color: var(--dark-grey); font-weight: 700; }

        .section {
            padding: 80px 20px;
        }

        .section-eyebrow {
            text-align: center;
            color: var(--mad-red);
            font-size: 19px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
        }

        .section-heading {
            text-align: center;
            font-size: 40px;
            font-weight: 900;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
            width: 100%;
            text-transform: uppercase;
        }

        .section-heading::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--mad-green);
        }

        .section-intro {
            text-align: center;
            color: var(--medium-grey);
            font-size: 18px;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            font-weight: 400;
        }

        .grid-3 {
            margin-top: 26px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 18px;
        }

        .info {
            border-radius: 16px;
            border: 1px solid rgba(0,0,0,0.10);
            background: white;
            padding: 18px;
        }

        .info h3 {
            font-size: 20px;
            font-weight: 900;
            margin-bottom: 6px;
        }

        .info p {
            color: var(--medium-grey);
            font-size: 14px;
            line-height: 1.65;
        }

        .how {
            background: var(--mad-cream);
            border-top: 1px solid rgba(0,0,0,0.06);
            border-bottom: 1px solid rgba(0,0,0,0.06);
        }

        .steps {
            margin-top: 26px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 18px;
        }

        .step {
            background: white;
            border: 1px solid rgba(0,0,0,0.10);
            border-radius: 16px;
            padding: 18px;
        }

        .step-num {
            width: 38px;
            height: 38px;
            border-radius: 12px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 1000;
            background: rgba(248, 181, 0, 0.18);
            color: var(--dark-grey);
            margin-bottom: 10px;
        }

        .step h3 { font-size: 18px; font-weight: 900; margin-bottom: 6px; }
        .step p { color: var(--medium-grey); font-size: 14px; line-height: 1.65; }

        .faq {
            margin-top: 26px;
            display: grid;
            gap: 12px;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        details {
            background: white;
            border: 1px solid rgba(0,0,0,0.10);
            border-radius: 14px;
            padding: 14px 16px;
        }

        summary {
            cursor: pointer;
            font-weight: 900;
            list-style: none;
        }

        summary::-webkit-details-marker { display: none; }

        details p {
            margin-top: 10px;
            color: var(--medium-grey);
            font-size: 14px;
            line-height: 1.7;
        }

        .footer { margin-top: 40px; }

        .sticky-cta {
            display: none;
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.94);
            backdrop-filter: blur(12px);
            border-top: 1px solid rgba(0,0,0,0.10);
            padding: 10px 12px;
            z-index: 60;
        }

        .sticky-cta-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .sticky-cta strong { font-weight: 1000; }
        .sticky-cta span { color: var(--medium-grey); font-size: 13px; }

        .sticky-cta .btn-primary {
            background: var(--mad-green);
            color: white;
            box-shadow: 0 8px 20px rgba(0, 166, 81, 0.25);
        }

        @media (max-width: 768px) {
            .hero-grid { grid-template-columns: 1fr; }
            h1 { font-size: 38px; }
            .grid-3 { grid-template-columns: 1fr; }
            .steps { grid-template-columns: 1fr; }
            .section-heading { font-size: 28px; line-height: 1.2; }
            .section-intro { font-size: 16px; }
        }

        @media (max-width: 640px) {
            .sticky-cta { display: block; }
            .hero { padding-bottom: 88px; }
            h1 { font-size: 32px; line-height: 1.2; letter-spacing: 0.5px; }
        }

        @media (prefers-reduced-motion: reduce) {
            .btn { transition: none; }
        }
    </style>
</head>
<body>
    <div class="top-bar"></div>

    <nav class="header-nav" aria-label="Primary">
        <div class="container">
            <div class="header-nav-inner">
                <a class="header-brand" href="/">Ecommerce Teardown</a>
            </div>
        </div>
    </nav>

    <main>
        <section class="hero">
            <div class="container">
                <div class="hero-grid">
                    <div>
                        <h1>Get an Ecommerce Website teardown for any page â€” in minutes.</h1>
                        <p class="subhead">Pay <strong>$2.99</strong>, throw your URL in the ring, and receive a knockout PDF report with mobile + desktop screenshots, revenue killers exposed, and prioritized fixes to grow your website revenue.</p>

                        <div class="hero-points" aria-label="Key benefits">
                            <div class="hero-point"><span class="check" aria-hidden="true">âœ“</span> Discover revenue opportunities hidden in your conversion funnel â€” the brutal truth.</div>
                            <div class="hero-point"><span class="check" aria-hidden="true">âœ“</span> Mobile + desktop screenshots so you can see exactly what's costing you revenue â€” no guesswork.</div>
                            <div class="hero-point"><span class="check" aria-hidden="true">âœ“</span> Prioritized action list: quick wins + high-impact experiments to grow revenue â€” know what to do first.</div>
                        </div>
                    </div>

                    <div class="card" id="order">
                        <div class="card-body">
                            <div style="margin-bottom: 18px;">
                                <div style="font-weight: 1000; font-size: 20px; margin-bottom: 6px;">Website Teardown Report</div>
                                <div class="price" style="font-size: 36px; font-weight: 1000; letter-spacing: -0.6px; margin-bottom: 8px;">$2.99</div>
                                <div class="micro">Best for landing pages, product pages, and homepages.</div>
                                <div style="margin-top: 12px; padding: 12px; background: rgba(0, 166, 81, 0.08); border: 1px solid rgba(0, 166, 81, 0.2); border-radius: 8px;">
                                    <div style="font-weight: 900; font-size: 14px; color: var(--mad-green); margin-bottom: 4px;">âœ“ Money-Back Guarantee</div>
                                    <div style="font-size: 12px; color: var(--medium-grey); line-height: 1.5;">Not satisfied? Get a full refund. No questions asked.</div>
                                </div>
                            </div>
                            <form id="teardownForm">
                                <div class="form-group">
                                    <label for="url">Page URL *</label>
                                    <input id="url" name="url" type="url" placeholder="https://example.com/page" required autocomplete="url" inputmode="url">
                                </div>

                                <div class="form-group">
                                    <label for="email">Email (for delivery) *</label>
                                    <input id="email" name="email" type="email" placeholder="you@company.com" required autocomplete="email">
                                </div>

                                <div class="form-group">
                                    <label for="notes">Notes (optional)</label>
                                    <textarea id="notes" name="notes" placeholder="What are you trying to optimize for? (e.g. add-to-cart, lead form submits, subscription signups)"></textarea>
                                </div>

                                <div class="form-actions">
                                    <button class="submit-btn" type="submit" id="submitBtn">ðŸ”¥ BRING THE TEARDOWN â†’</button>
                                    <div class="fineprint">You'll be redirected to secure checkout. After payment, the report is generated and emailed to you.</div>
                                    <div class="fineprint">By submitting, you confirm you have permission to review this page.</div>
                                </div>
                            </form>
                            <div id="testResult" style="display:none; margin-top: 16px;">
                                <div class="info" style="margin-top: 14px;">
                                    <h3>Test mode result</h3>
                                    <p style="margin-top: 8px;">
                                        <a id="pdfLink" href="#" target="_blank" rel="noopener">Download PDF â†’</a>
                                    </p>
                                    <div style="margin-top: 12px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                        <div>
                                            <div style="font-weight: 900; font-size: 12px; text-transform: uppercase; letter-spacing: 0.4px; margin-bottom: 6px;">Desktop</div>
                                            <img id="desktopImg" alt="Desktop screenshot" style="width: 100%; border-radius: 10px; border: 1px solid rgba(0,0,0,0.10);" />
                                        </div>
                                        <div>
                                            <div style="font-weight: 900; font-size: 12px; text-transform: uppercase; letter-spacing: 0.4px; margin-bottom: 6px;">Mobile</div>
                                            <img id="mobileImg" alt="Mobile screenshot" style="width: 100%; border-radius: 10px; border: 1px solid rgba(0,0,0,0.10);" />
                                        </div>
                                    </div>
                                    <p id="jobMeta" style="margin-top: 10px; font-size: 12px; color: var(--medium-grey);"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="what">
            <div class="container">
                <div class="section-eyebrow">THE KNOCKOUT DETAILS</div>
                <h2 class="section-heading">What you get in the PDF</h2>
                <p class="section-intro">A no-holds-barred teardown designed to help you grow revenue. Not a generic checklist â€” it's structured as an action plan to identify and fix what's costing you money.</p>

                <div class="grid-3">
                    <div class="info">
                        <h3>Screenshot-backed review</h3>
                        <p>We capture both mobile and desktop views and reference them directly in the report so recommendations are anchored to what users actually see. No guesswork â€” just the brutal truth about what's blocking revenue.</p>
                    </div>
                    <div class="info">
                        <h3>Revenue friction map</h3>
                        <p>We call out every point that's costing you money: messaging gaps, weak CTAs, trust issues, UX friction, and missing proof. Every revenue killer exposed with clear fixes to grow your bottom line.</p>
                    </div>
                    <div class="info">
                        <h3>Prioritized revenue fixes</h3>
                        <p>Action list sorted by revenue impact: quick wins, medium lifts, and bigger experiments â€” so you know what to tackle first to grow revenue fastest.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="section how" id="how">
            <div class="container">
                <div class="section-eyebrow">THE RING</div>
                <h2 class="section-heading">How it works</h2>
                <p class="section-intro">Three rounds. One winner. Your revenue. Simple flow designed to grow your website revenue (and for your time).</p>

                <div class="steps">
                    <div class="step">
                        <div class="step-num">1</div>
                        <h3>STEP INTO THE RING</h3>
                        <p>Enter the page you want reviewed and where to send the report. Throw your URL in the arena and let's see what we're working with.</p>
                    </div>
                    <div class="step">
                        <div class="step-num">2</div>
                        <h3>PAY SECURELY</h3>
                        <p>You'll be redirected to Stripe Checkout for a one-time $2.99 payment. Secure, fast, and you're one step closer to the truth.</p>
                    </div>
                    <div class="step">
                        <div class="step-num">3</div>
                        <h3>GET THE KNOCKOUT REPORT</h3>
                        <p>We screenshot desktop + mobile, run the teardown, generate a PDF, and email it to you. Typically within minutes â€” no waiting around.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="faq">
            <div class="container">
                <div class="section-eyebrow">THE TRUTH</div>
                <h2 class="section-heading">FAQ</h2>
                <p class="section-intro">Everything you need to know before you step into the ring.</p>

                <div class="faq">
                    <details>
                        <summary>Why should I get a teardown?</summary>
                        <p>Get the brutal truth about what's costing you revenue from someone who's scaled ecommerce businesses for 16 years. This isn't a generic checklist â€” it's actionable insights to grow your website revenue, backed by screenshots, prioritized by revenue impact, and delivered in minutes. For $2.99, you get expert revenue growth analysis that would normally cost hundreds.</p>
                    </details>
                    <details>
                        <summary>What makes this different from other tools?</summary>
                        <p>This isn't automated fluff. You get real revenue growth expertise from a 3x Top 50 Australian Ecommerce leader who's built and scaled businesses. Every recommendation is backed by mobile + desktop screenshots, prioritized by revenue impact, and structured as an action plan to grow your bottom line. It's like having a revenue expert in your corner â€” for $2.99.</p>
                    </details>
                    <details>
                        <summary>What will the report focus on?</summary>
                        <p>Revenue opportunities hidden in your conversion funnel: messaging gaps, trust & proof issues, weak CTAs, friction points, mobile usability problems, hierarchy/attention gaps, and persuasion failures â€” with prioritized actions to fix them. We call out every revenue killer and give you a clear roadmap to grow revenue.</p>
                    </details>
                    <details>
                        <summary>How detailed is the report?</summary>
                        <p>Very. You get mobile + desktop screenshots referenced directly in the report, a revenue friction map calling out every issue costing you money, and a prioritized action list (quick wins, medium lifts, bigger experiments) sorted by revenue impact. Not a generic checklist â€” a practical teardown designed to help you grow revenue.</p>
                    </details>
                    <details>
                        <summary>What's your money-back guarantee?</summary>
                        <p>100% money-back guarantee. If you're not satisfied with your teardown report, just let us know and we'll refund your $2.99 â€” no questions asked. We're confident you'll find actionable insights to grow revenue, but if you don't, we'll make it right.</p>
                    </details>
                    <details>
                        <summary>How fast is delivery?</summary>
                        <p>Typically within minutes. We screenshot your page, run the teardown, generate the PDF, and email it to you. If the page blocks automated screenshots or is highly dynamic, delivery may take longer or require a manual retry.</p>
                    </details>
                    <details>
                        <summary>Can I use this for multiple pages?</summary>
                        <p>Yes! Each page is $2.99. Submit each URL separately and you'll get a dedicated revenue growth report for each one. Perfect for identifying revenue opportunities across your site â€” homepage, product pages, landing pages, and more.</p>
                    </details>
                    <details>
                        <summary>Can you review pages behind login?</summary>
                        <p>Not in the automated flow. For gated pages, use the contact form and we can discuss options for private reviews or consulting.</p>
                    </details>
                    <details>
                        <summary>What if I need more help?</summary>
                        <p>This report gives you the foundation. If you need deeper strategy, ongoing support, or multiple pages reviewed, check out our <a href="/#pricing" style="color: var(--mad-green); font-weight: 700;">Private Reviews</a> or <a href="/consulting" style="color: var(--mad-green); font-weight: 700;">Championship Consulting</a> services.</p>
                    </details>
                </div>
            </div>
        </section>

        <footer class="footer">
            <div class="footer-content">
                <div>
                    <h3>The Ring</h3>
                    <ul>
                        <li><a href="#form">Free Public Teardown</a></li>
                        <li><a href="#pricing">Private Reviews</a></li>
                        <li><a href="/consulting">Consulting</a></li>
                        <li><a href="/coming-soon">Sample Teardowns</a></li>
                        <li><a href="/#meet-champion">About the Champion</a></li>
                    </ul>
                </div>
                <div>
                    <h3>Connect</h3>
                    <ul>
                        <li>
                            <a href="https://linkedin.com/in/richardkelsey" style="display: flex; align-items: center; gap: 8px; text-decoration: none;">
                                <img src="https://content.linkedin.com/content/dam/me/business/en-us/amp/brand-site/v2/bg/LI-Bug.svg.original.svg" alt="LinkedIn" style="width: 20px; height: 20px; vertical-align: middle;">
                                <span>LinkedIn</span>
                                <span style="color: var(--medium-grey); font-size: 14px;">(11,413 followers)</span>
                            </a>
                        </li>
                        <li><a href="/contact">Contact Form</a></li>
                        <li>Based in Sydney, Australia</li>
                        <li>Open to Head of Ecommerce roles</li>
                    </ul>
                </div>
                <div>
                    <h3>Recent Battles</h3>
                    <ul>
                        <li><a href="/coming-soon">Brand Teardown â†’</a></li>
                        <li><a href="/coming-soon">Brand Teardown â†’</a></li>
                        <li><a href="/coming-soon">View All Teardowns â†’</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2025 Richard Kelsey | ecommerceteardown.com</p>
                <p style="margin-top: 10px; font-size: 12px; opacity: 0.7;">Payments powered by Stripe. Report delivery via email.</p>
            </div>
        </footer>

        <div class="sticky-cta" role="region" aria-label="Buy AI teardown">
            <div class="sticky-cta-inner">
                <div>
                    <strong>$2.99</strong> <span>/ page â€¢ PDF report</span>
                </div>
                <a class="btn btn-primary" href="#order">Get the PDF â†’</a>
            </div>
        </div>
    </main>

    <script>
        function normalizeUrl(url) {
            const trimmed = (url || '').trim();
            if (!trimmed) return '';
            if (/^https?:\/\//i.test(trimmed)) return trimmed;
            return 'https://' + trimmed;
        }

        const form = document.getElementById('teardownForm');
        const submitBtn = document.getElementById('submitBtn');
        const testResult = document.getElementById('testResult');
        const pdfLink = document.getElementById('pdfLink');
        const desktopImg = document.getElementById('desktopImg');
        const mobileImg = document.getElementById('mobileImg');
        const jobMeta = document.getElementById('jobMeta');

        function isTestMode() {
            return new URLSearchParams(window.location.search).get('test') === '1';
        }

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const rawUrl = document.getElementById('url').value;
            const email = document.getElementById('email').value.trim();
            const notes = document.getElementById('notes').value.trim();

            const url = normalizeUrl(rawUrl);

            submitBtn.disabled = true;
            const originalText = submitBtn.textContent;

            const testMode = isTestMode();
            submitBtn.textContent = testMode ? 'Generating reportâ€¦' : 'Redirecting to checkout...';

            try {
                if (testMode) {
                    const res = await fetch('/api/test-teardown', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ url, email, notes })
                    });

                    if (!res.ok) {
                        const msg = await res.text();
                        throw new Error(msg || 'Failed to generate report');
                    }

                    const data = await res.json();
                    if (!data || !data.job_id || !data.pdf_url) throw new Error('Missing test teardown result');

                    pdfLink.href = data.pdf_url;
                    desktopImg.src = data.desktop_png_url;
                    mobileImg.src = data.mobile_png_url;
                    jobMeta.textContent = `job_id: ${data.job_id}`;
                    testResult.style.display = 'block';
                    submitBtn.textContent = 'Done â€” generate another';
                    submitBtn.disabled = false;
                    return;
                }

                const res = await fetch('/api/create-checkout-session', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ url, email, notes })
                });

                if (!res.ok) {
                    const msg = await res.text();
                    throw new Error(msg || 'Failed to start checkout');
                }

                const data = await res.json();
                if (!data || !data.url) throw new Error('Missing checkout URL');

                window.location.href = data.url;
            } catch (err) {
                submitBtn.disabled = false;
                submitBtn.textContent = originalText;
                const msg = (err && err.message) ? err.message : String(err || '');
                alert(isTestMode()
                    ? `Sorry â€” there was a problem generating the report.\n\n${msg}`
                    : 'Sorry â€” there was a problem starting checkout. Please try again.');
                console.error(err);
            }
        });
    </script>
</body>
</html>
